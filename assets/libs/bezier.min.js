/*! Lightweight Bezier helper for optional mindmap rendering */
(function (global) {
    function Bezier(x1, y1, x2, y2, x3, y3, x4, y4) {
        this.points = [
            { x: x1, y: y1 },
            { x: x2, y: y2 },
            { x: x3, y: y3 },
            { x: x4, y: y4 }
        ];
    }

    Bezier.prototype.get = function (t) {
        const clamped = Math.max(0, Math.min(1, Number(t)));
        const p0 = this.points[0];
        const p1 = this.points[1];
        const p2 = this.points[2];
        const p3 = this.points[3];
        const mt = 1 - clamped;
        const mt2 = mt * mt;
        const t2 = clamped * clamped;

        return {
            x: mt2 * mt * p0.x + 3 * mt2 * clamped * p1.x + 3 * mt * t2 * p2.x + t2 * clamped * p3.x,
            y: mt2 * mt * p0.y + 3 * mt2 * clamped * p1.y + 3 * mt * t2 * p2.y + t2 * clamped * p3.y
        };
    };

    Bezier.prototype.getLUT = function (steps) {
        const samples = Math.max(2, Math.floor(Number(steps) || 20));
        const lut = [];
        for (let i = 0; i <= samples; i += 1) {
            lut.push(this.get(i / samples));
        }
        return lut;
    };

    global.Bezier = Bezier;
})(typeof window !== 'undefined' ? window : globalThis);
